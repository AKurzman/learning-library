# Deployment

## Introduction

This lab takes you through deploying the Micronaut application to an OCI VM.

Estimated Lab Time: &lt;15&gt; minutes

### Objectives

In this lab you will:

* Build your application distribution
* Upload the application distribution and wallet to an OCI VM
* Run your application on the OCI VM

## Deploy Micronaut Application to OCI

### Deploy (From Local To VM)

1. Before deploying, ensure the wallet exists on the VM by running the snippet produced by `setup.sh` that looks similar to:

   ```bash
   # run on local machine to push to VM
   scp -i ~/.ssh/id_oci -r /tmp/wallet opc@[VM IP Address]:/tmp/wallet
   ```

2. Build JAR with:

   ```shell script
   # run on local machine
   ./gradlew assemble
   ```

3. Push JAR to VM with the snippet produced by `setup.sh` that looks similar to this:

   ```shell script
   # run on local machine to push to VM
   scp -i ~/.ssh/id_oci -r build/libs/example-atp-0.1-all.jar opc@[VM IP Address]:/app/application.jar
   ```

4. To run on the VM, SSH in and run the snippet generated by `setup.sh` that looks similar to this:

   ```bash
   # run on VM to start application
   export MICRONAUT_OCI_DEMO_PASSWORD=[Your atp_wallet_password]
   export TNS_ADMIN=/tmp/wallet
   java -jar /app/application.jar
   ```
